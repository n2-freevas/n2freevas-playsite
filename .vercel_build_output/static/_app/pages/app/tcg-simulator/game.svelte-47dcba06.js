var Ne=Object.defineProperty,He=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var De=(r,e,l)=>e in r?Ne(r,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[e]=l,K=(r,e)=>{for(var l in e||(e={}))Pe.call(e,l)&&De(r,l,e[l]);if(we)for(var l of we(e))Ue.call(e,l)&&De(r,l,e[l]);return r},ee=(r,e)=>He(r,qe(e));import{S as ae,i as ne,s as ce,e as E,k as V,c as S,a as A,d as I,n as L,b as u,f as x,F as U,G as X,H as Ae,Q as M,D as P,E as j,N as O,W as ge,l as de,x as F,j as te,m as le,o as ie,u as R,v as re,r as se,w as oe,V as ue,O as pe,R as C,A as We,a0 as Ye,t as Z,g as $}from"../../../chunks/vendor-081b076b.js";import{d as _e,h as ve,b as he,a as W,c as Be,m as Ce,e as Y,f as Q}from"../../../chunks/TCGsimStore-efdd8d9c.js";function xe(r){let e,l,t,i,s,b,k;return{c(){e=E("button"),l=V(),t=E("button"),i=V(),s=E("button"),this.h()},l(p){e=S(p,"BUTTON",{class:!0}),A(e).forEach(I),l=L(p),t=S(p,"BUTTON",{class:!0}),A(t).forEach(I),i=L(p),s=S(p,"BUTTON",{class:!0}),A(s).forEach(I),this.h()},h(){u(e,"class","left-rotate svelte-r9fsf6"),u(t,"class","right-rotate svelte-r9fsf6"),u(s,"class","flip svelte-r9fsf6")},m(p,a){x(p,e,a),x(p,l,a),x(p,t,a),x(p,i,a),x(p,s,a),b||(k=[U(e,"click",r[12]),U(t,"click",r[13]),U(s,"click",r[14])],b=!0)},p:X,d(p){p&&I(e),p&&I(l),p&&I(t),p&&I(i),p&&I(s),b=!1,Ae(k)}}}function Fe(r){let e;function l(s,b){return s[3]?ze:Qe}let t=l(r),i=t(r);return{c(){e=E("section"),i.c(),this.h()},l(s){e=S(s,"SECTION",{class:!0,style:!0});var b=A(e);i.l(b),b.forEach(I),this.h()},h(){u(e,"class","card-shadow svelte-r9fsf6"),M(e,"--pos_x",r[0]+"px"),M(e,"--pos_y",r[1]+"px"),M(e,"--img",r[4])},m(s,b){x(s,e,b),i.m(e,null)},p(s,b){t===(t=l(s))&&i?i.p(s,b):(i.d(1),i=t(s),i&&(i.c(),i.m(e,null))),b&1&&M(e,"--pos_x",s[0]+"px"),b&2&&M(e,"--pos_y",s[1]+"px"),b&16&&M(e,"--img",s[4])},d(s){s&&I(e),i.d()}}}function Qe(r){let e,l;return{c(){e=E("img"),this.h()},l(t){e=S(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){P(e.src,l=r[4])||u(e,"src",l),u(e,"alt",""),u(e,"class","svelte-r9fsf6")},m(t,i){x(t,e,i)},p(t,i){i&16&&!P(e.src,l=t[4])&&u(e,"src",l)},d(t){t&&I(e)}}}function ze(r){let e,l;return{c(){e=E("img"),this.h()},l(t){e=S(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){P(e.src,l=r[5])||u(e,"src",l),u(e,"alt",""),u(e,"class","svelte-r9fsf6")},m(t,i){x(t,e,i)},p(t,i){i&32&&!P(e.src,l=t[5])&&u(e,"src",l)},d(t){t&&I(e)}}}function Je(r){let e,l,t,i,s,b,k,p,a,f,v,g,y,_,n,G,o,m=r[8]&&!r[7]&&xe(r),c=r[7]&&!r[6]&&Fe(r);return{c(){e=E("section"),l=E("div"),m&&m.c(),i=V(),s=E("div"),b=E("div"),k=E("img"),a=V(),f=E("div"),v=E("img"),_=V(),c&&c.c(),this.h()},l(d){e=S(d,"SECTION",{class:!0,style:!0});var w=A(e);l=S(w,"DIV",{class:!0});var q=A(l);m&&m.l(q),q.forEach(I),i=L(w),s=S(w,"DIV",{class:!0});var N=A(s);b=S(N,"DIV",{class:!0});var h=A(b);k=S(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(I),a=L(N),f=S(N,"DIV",{class:!0});var D=A(f);v=S(D,"IMG",{src:!0,alt:!0,class:!0}),D.forEach(I),N.forEach(I),_=L(w),c&&c.l(w),w.forEach(I),this.h()},h(){u(l,"class",t="card-guide "+(r[8]?"hover":"")+" svelte-r9fsf6"),P(k.src,p=r[4])||u(k,"src",p),u(k,"alt",""),u(k,"class","svelte-r9fsf6"),u(b,"class","front svelte-r9fsf6"),P(v.src,g=r[5])||u(v,"src",g),u(v,"alt",""),u(v,"class","svelte-r9fsf6"),u(f,"class","back svelte-r9fsf6"),u(s,"class",y="card-surface "+(r[3]?"flippin":"")+" svelte-r9fsf6"),u(e,"class",n="card-body "+(r[7]?"movin":"")+" "+(r[6]?"noGuide":"")+" svelte-r9fsf6"),M(e,"--pos_x",r[0]+"px"),M(e,"--pos_y",r[1]+"px"),M(e,"--img",r[4]),M(e,"--rotate",r[2]+"deg")},m(d,w){x(d,e,w),j(e,l),m&&m.m(l,null),j(e,i),j(e,s),j(s,b),j(b,k),j(s,a),j(s,f),j(f,v),j(e,_),c&&c.m(e,null),G||(o=[U(s,"mousedown",r[9]),U(e,"mouseenter",r[10]),U(e,"mouseleave",r[11])],G=!0)},p(d,[w]){d[8]&&!d[7]?m?m.p(d,w):(m=xe(d),m.c(),m.m(l,null)):m&&(m.d(1),m=null),w&256&&t!==(t="card-guide "+(d[8]?"hover":"")+" svelte-r9fsf6")&&u(l,"class",t),w&16&&!P(k.src,p=d[4])&&u(k,"src",p),w&32&&!P(v.src,g=d[5])&&u(v,"src",g),w&8&&y!==(y="card-surface "+(d[3]?"flippin":"")+" svelte-r9fsf6")&&u(s,"class",y),d[7]&&!d[6]?c?c.p(d,w):(c=Fe(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null),w&192&&n!==(n="card-body "+(d[7]?"movin":"")+" "+(d[6]?"noGuide":"")+" svelte-r9fsf6")&&u(e,"class",n),w&1&&M(e,"--pos_x",d[0]+"px"),w&2&&M(e,"--pos_y",d[1]+"px"),w&16&&M(e,"--img",d[4]),w&4&&M(e,"--rotate",d[2]+"deg")},i:X,o:X,d(d){d&&I(e),m&&m.d(),c&&c.d(),G=!1,Ae(o)}}}function Ke(r,e,l){O(r,_e,d=>l(17,d)),O(r,ve,d=>l(18,d)),O(r,he,d=>l(19,d)),ge();let{id:t}=e,{pos_x:i}=e,{pos_y:s}=e,{onArea:b="board"}=e,{img_url:k}=e,{sleeve_url:p}=e,{rotate:a=0}=e,{noGuide:f=!1}=e,v=!1,g=!1,{flippin:y=!1}=e;function _(){console.log(t),v||(l(7,v=!0),b!="board"&&l(2,a=0))}function n(){l(8,g=!0)}function G(){l(8,g=!1)}function o(){l(2,a-=90)}function m(){l(2,a+=90)}function c(){l(3,y=!y)}return r.$$set=d=>{"id"in d&&l(15,t=d.id),"pos_x"in d&&l(0,i=d.pos_x),"pos_y"in d&&l(1,s=d.pos_y),"onArea"in d&&l(16,b=d.onArea),"img_url"in d&&l(4,k=d.img_url),"sleeve_url"in d&&l(5,p=d.sleeve_url),"rotate"in d&&l(2,a=d.rotate),"noGuide"in d&&l(6,f=d.noGuide),"flippin"in d&&l(3,y=d.flippin)},[i,s,a,y,k,p,f,v,g,_,n,G,o,m,c,t,b]}class be extends ae{constructor(e){super();ne(this,e,Ke,Je,ce,{id:15,pos_x:0,pos_y:1,onArea:16,img_url:4,sleeve_url:5,rotate:2,noGuide:6,flippin:3})}}function Ge(r,e,l){const t=r.slice();return t[6]=e[l],t}function Te(r){let e,l;return e=new be({props:{id:r[6].id,pos_x:r[6].x,pos_y:r[6].y,rotate:r[6].rotate,onArea:"hand",img_url:r[6].url,sleeve_url:r[6].burl,flippin:r[6].flip}}),e.$on("boardIn",r[2]),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,i){ie(e,t,i),l=!0},p(t,i){const s={};i&1&&(s.id=t[6].id),i&1&&(s.pos_x=t[6].x),i&1&&(s.pos_y=t[6].y),i&1&&(s.rotate=t[6].rotate),i&1&&(s.img_url=t[6].url),i&1&&(s.sleeve_url=t[6].burl),i&1&&(s.flippin=t[6].flip),e.$set(s)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function Ve(r){let e,l,t=r[6]&&Te(r);return{c(){t&&t.c(),e=de()},l(i){t&&t.l(i),e=de()},m(i,s){t&&t.m(i,s),x(i,e,s),l=!0},p(i,s){i[6]?t?(t.p(i,s),s&1&&F(t,1)):(t=Te(i),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(se(),R(t,1,1,()=>{t=null}),oe())},i(i){l||(F(t),l=!0)},o(i){R(t),l=!1},d(i){t&&t.d(i),i&&I(e)}}}function Xe(r){let e,l,t,i,s,b,k,p,a=r[0],f=[];for(let g=0;g<a.length;g+=1)f[g]=Ve(Ge(r,a,g));const v=g=>R(f[g],1,1,()=>{f[g]=null});return{c(){e=E("section"),l=E("div"),t=E("div"),s=V();for(let g=0;g<f.length;g+=1)f[g].c();this.h()},l(g){e=S(g,"SECTION",{id:!0,class:!0});var y=A(e);l=S(y,"DIV",{id:!0,class:!0});var _=A(l);t=S(_,"DIV",{id:!0,class:!0}),A(t).forEach(I),_.forEach(I),s=L(y);for(let n=0;n<f.length;n+=1)f[n].l(y);y.forEach(I),this.h()},h(){u(t,"id","handArea-bg-radius"),u(t,"class",i=""+(ue(r[1])+" svelte-1x1auw9")),u(l,"id","handArea-bg"),u(l,"class","svelte-1x1auw9"),u(e,"id","handArea"),u(e,"class","svelte-1x1auw9")},m(g,y){x(g,e,y),j(e,l),j(l,t),j(e,s);for(let _=0;_<f.length;_+=1)f[_].m(e,null);b=!0,k||(p=U(t,"click",r[4]),k=!0)},p(g,[y]){if((!b||y&2&&i!==(i=""+(ue(g[1])+" svelte-1x1auw9")))&&u(t,"class",i),y&5){a=g[0];let _;for(_=0;_<a.length;_+=1){const n=Ge(g,a,_);f[_]?(f[_].p(n,y),F(f[_],1)):(f[_]=Ve(n),f[_].c(),F(f[_],1),f[_].m(e,null))}for(se(),_=a.length;_<f.length;_+=1)v(_);oe()}},i(g){if(!b){for(let y=0;y<a.length;y+=1)F(f[y]);b=!0}},o(g){f=f.filter(Boolean);for(let y=0;y<f.length;y+=1)R(f[y]);b=!1},d(g){g&&I(e),pe(f,g),k=!1,p()}}}const ke=250;function Ze(r){return-1*Math.sqrt(Math.pow(ke,2)-Math.pow(r,2))}function $e(r,e,l){let t,i,s;O(r,W,a=>l(0,t=a)),O(r,Be,a=>l(3,i=a)),O(r,Ce,a=>l(1,s=a));const b=ge();function k(a){b("boardInFromHand",a.detail)}const p=()=>{W.set(t)};return r.$$.update=()=>{if(r.$$.dirty&9){let a=t;const f=a.length;let v=(ke*2-150)/f,g=100/f;v>50&&(v=50),g>20&&(g=20);let y=[];for(let _=0;_<f;_++)if(a[_]){const n=v*(_-f/2+.5),G=Ze(n),o=(_-Math.floor(f/2))*g;y.push({id:a[_].id,url:a[_].url,burl:a[_].burl,x:n+ke-i/2,y:G+150,rotate:o,flip:!1})}else y.push(void 0);C(W,t=y,t)}},[t,s,k,i,p]}class et extends ae{constructor(e){super();ne(this,e,$e,Xe,ce,{})}}function Le(r,e,l){const t=r.slice();return t[5]=e[l],t[7]=l,t}function Me(r){let e,l;return e=new be({props:{id:r[5].id,pos_x:r[5].x+r[7]*-.5,pos_y:r[5].y+r[7]*-.8,flippin:r[5].flip,onArea:"deck",img_url:r[5].url,sleeve_url:r[5].burl,noGuide:!0}}),e.$on("handIn",r[2]),e.$on("boardIn",r[3]),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,i){ie(e,t,i),l=!0},p(t,i){const s={};i&1&&(s.id=t[5].id),i&1&&(s.pos_x=t[5].x+t[7]*-.5),i&1&&(s.pos_y=t[5].y+t[7]*-.8),i&1&&(s.flippin=t[5].flip),i&1&&(s.img_url=t[5].url),i&1&&(s.sleeve_url=t[5].burl),e.$set(s)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function tt(r){let e,l,t,i,s,b,k,p,a,f,v,g,y,_=r[0],n=[];for(let o=0;o<_.length;o+=1)n[o]=Me(Le(r,_,o));const G=o=>R(n[o],1,1,()=>{n[o]=null});return{c(){e=E("section"),l=E("section"),t=E("div"),i=E("img"),b=V(),k=E("section"),p=E("div"),a=E("div"),f=V();for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=S(o,"SECTION",{id:!0,class:!0});var m=A(e);l=S(m,"SECTION",{id:!0,class:!0});var c=A(l);t=S(c,"DIV",{class:!0,style:!0});var d=A(t);i=S(d,"IMG",{src:!0,alt:!0,class:!0}),d.forEach(I),c.forEach(I),b=L(m),k=S(m,"SECTION",{id:!0,class:!0});var w=A(k);p=S(w,"DIV",{class:!0});var q=A(p);a=S(q,"DIV",{class:!0}),A(a).forEach(I),q.forEach(I),f=L(w);for(let N=0;N<n.length;N+=1)n[N].l(w);w.forEach(I),m.forEach(I),this.h()},h(){P(i.src,s="/img/tcg-sim/ellipse.svg")||u(i,"src",s),u(i,"alt",""),u(i,"class","svelte-xml8qn"),u(t,"class","deckUI-button svelte-xml8qn"),M(t,"--deg",0+"deg"),u(l,"id","deckUI"),u(l,"class","svelte-xml8qn"),u(a,"class","round svelte-xml8qn"),u(p,"class","deckbottom svelte-xml8qn"),u(k,"id","deckPiling"),u(k,"class","svelte-xml8qn"),u(e,"id","deckArea"),u(e,"class","svelte-xml8qn")},m(o,m){x(o,e,m),j(e,l),j(l,t),j(t,i),j(e,b),j(e,k),j(k,p),j(p,a),j(k,f);for(let c=0;c<n.length;c+=1)n[c].m(k,null);v=!0,g||(y=U(p,"click",r[1]),g=!0)},p(o,[m]){if(m&13){_=o[0];let c;for(c=0;c<_.length;c+=1){const d=Le(o,_,c);n[c]?(n[c].p(d,m),F(n[c],1)):(n[c]=Me(d),n[c].c(),F(n[c],1),n[c].m(k,null))}for(se(),c=_.length;c<n.length;c+=1)G(c);oe()}},i(o){if(!v){for(let m=0;m<_.length;m+=1)F(n[m]);v=!0}},o(o){n=n.filter(Boolean);for(let m=0;m<n.length;m+=1)R(n[m]);v=!1},d(o){o&&I(e),pe(n,o),g=!1,y()}}}function lt(r,e,l){let t;O(r,Y,p=>l(0,t=p));const i=ge();function s(){C(Y,t=t.map(p=>K({},p)),t)}function b(p){const a=p.detail.id;i("handInFromDeck",{id:a})}function k(p){i("boardInFromDeck",p.detail)}return[t,s,b,k]}class it extends ae{constructor(e){super();ne(this,e,lt,tt,ce,{})}}const{document:rt}=Ye;function Oe(r,e,l){const t=r.slice();return t[21]=e[l],t}function st(r){let e,l,t,i,s,b,k,p,a,f,v,g=`${dt}px`,y,_,n=` ( ${nt}px )`,G,o,m,c=`${ut}px`,d,w,q=` ( ${ct}px )`,N,h,D,T;return{c(){e=E("section"),l=E("div"),t=E("h1"),i=Z("SORRY!"),s=V(),b=E("p"),k=Z("\u3082\u3063\u3068\u5927\u304D\u3044\u753B\u9762\u3067\u3054\u5229\u7528\u304F\u3060\u3055\u3044\u3002"),p=V(),a=E("div"),f=E("div"),v=E("div"),y=Z(g),_=E("span"),G=Z(n),o=V(),m=E("div"),d=Z(c),w=E("span"),N=Z(q),h=V(),D=E("img"),this.h()},l(B){e=S(B,"SECTION",{id:!0,class:!0});var H=A(e);l=S(H,"DIV",{class:!0});var z=A(l);t=S(z,"H1",{});var Ie=A(t);i=$(Ie,"SORRY!"),Ie.forEach(I),s=L(z),b=S(z,"P",{});var ye=A(b);k=$(ye,"\u3082\u3063\u3068\u5927\u304D\u3044\u753B\u9762\u3067\u3054\u5229\u7528\u304F\u3060\u3055\u3044\u3002"),ye.forEach(I),p=L(z),a=S(z,"DIV",{class:!0});var je=A(a);f=S(je,"DIV",{class:!0});var J=A(f);v=S(J,"DIV",{class:!0});var fe=A(v);y=$(fe,g),_=S(fe,"SPAN",{class:!0});var Ee=A(_);G=$(Ee,n),Ee.forEach(I),fe.forEach(I),o=L(J),m=S(J,"DIV",{class:!0});var me=A(m);d=$(me,c),w=S(me,"SPAN",{class:!0});var Se=A(w);N=$(Se,q),Se.forEach(I),me.forEach(I),h=L(J),D=S(J,"IMG",{src:!0,alt:!0}),J.forEach(I),je.forEach(I),z.forEach(I),H.forEach(I),this.h()},h(){u(_,"class","svelte-10xn2tj"),u(v,"class","width svelte-10xn2tj"),u(w,"class","svelte-10xn2tj"),u(m,"class","height svelte-10xn2tj"),P(D.src,T="/img/tcg-sim/require_device.svg")||u(D,"src",T),u(D,"alt","\u7E26:\u6A2A = 400px:700px \u306E\u7AEF\u672B\u3067\u3054\u5229\u7528\u304F\u3060\u3055\u3044"),u(f,"class","device-figure svelte-10xn2tj"),u(a,"class","device-exp svelte-10xn2tj"),u(l,"class","panel svelte-10xn2tj"),u(e,"id","is-not-PC-alert"),u(e,"class","svelte-10xn2tj")},m(B,H){x(B,e,H),j(e,l),j(l,t),j(t,i),j(l,s),j(l,b),j(b,k),j(l,p),j(l,a),j(a,f),j(f,v),j(v,y),j(v,_),j(_,G),j(f,o),j(f,m),j(m,d),j(m,w),j(w,N),j(f,h),j(f,D)},p:X,i:X,o:X,d(B){B&&I(e)}}}function ot(r){let e,l,t,i,s,b,k,p,a,f,v,g,y,_=r[1],n=[];for(let o=0;o<_.length;o+=1)n[o]=Re(Oe(r,_,o));const G=o=>R(n[o],1,1,()=>{n[o]=null});return k=new et({}),k.$on("boardInFromHand",r[4]),g=new it({}),g.$on("handInFromDeck",r[9]),g.$on("boardInFromDeck",r[5]),{c(){e=E("article");for(let o=0;o<n.length;o+=1)n[o].c();t=V(),i=E("article"),s=E("div"),b=V(),te(k.$$.fragment),p=V(),a=E("article"),f=E("div"),v=V(),te(g.$$.fragment),this.h()},l(o){e=S(o,"ARTICLE",{id:!0,class:!0});var m=A(e);for(let w=0;w<n.length;w+=1)n[w].l(m);m.forEach(I),t=L(o),i=S(o,"ARTICLE",{id:!0,class:!0});var c=A(i);s=S(c,"DIV",{id:!0,class:!0}),A(s).forEach(I),b=L(c),le(k.$$.fragment,c),c.forEach(I),p=L(o),a=S(o,"ARTICLE",{id:!0,class:!0});var d=A(a);f=S(d,"DIV",{id:!0,class:!0}),A(f).forEach(I),v=L(d),le(g.$$.fragment,d),d.forEach(I),this.h()},h(){u(e,"id","board"),u(e,"class",l=""+(ue(r[2])+" svelte-10xn2tj")),u(s,"id","handArea-main"),u(s,"class","svelte-10xn2tj"),u(i,"id","myHand"),u(i,"class","svelte-10xn2tj"),u(f,"id","deckArea-main"),u(f,"class","svelte-10xn2tj"),u(a,"id","myDeck"),u(a,"class","svelte-10xn2tj")},m(o,m){x(o,e,m);for(let c=0;c<n.length;c+=1)n[c].m(e,null);x(o,t,m),x(o,i,m),j(i,s),j(i,b),ie(k,i,null),x(o,p,m),x(o,a,m),j(a,f),j(a,v),ie(g,a,null),y=!0},p(o,m){if(m&1474){_=o[1];let c;for(c=0;c<_.length;c+=1){const d=Oe(o,_,c);n[c]?(n[c].p(d,m),F(n[c],1)):(n[c]=Re(d),n[c].c(),F(n[c],1),n[c].m(e,null))}for(se(),c=_.length;c<n.length;c+=1)G(c);oe()}(!y||m&4&&l!==(l=""+(ue(o[2])+" svelte-10xn2tj")))&&u(e,"class",l)},i(o){if(!y){for(let m=0;m<_.length;m+=1)F(n[m]);F(k.$$.fragment,o),F(g.$$.fragment,o),y=!0}},o(o){n=n.filter(Boolean);for(let m=0;m<n.length;m+=1)R(n[m]);R(k.$$.fragment,o),R(g.$$.fragment,o),y=!1},d(o){o&&I(e),pe(n,o),o&&I(t),o&&I(i),re(k),o&&I(p),o&&I(a),re(g)}}}function Re(r){let e,l;return e=new be({props:{id:r[21].id,pos_x:r[21].x,pos_y:r[21].y,flippin:r[21].flip,onArea:"board",img_url:r[21].url,sleeve_url:r[21].burl}}),e.$on("bounceHand",r[6]),e.$on("boardCardMove",r[7]),e.$on("handIn",r[8]),e.$on("deckIn",r[10]),{c(){te(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,i){ie(e,t,i),l=!0},p(t,i){const s={};i&2&&(s.id=t[21].id),i&2&&(s.pos_x=t[21].x),i&2&&(s.pos_y=t[21].y),i&2&&(s.flippin=t[21].flip),i&2&&(s.img_url=t[21].url),i&2&&(s.sleeve_url=t[21].burl),e.$set(s)},i(t){l||(F(e.$$.fragment,t),l=!0)},o(t){R(e.$$.fragment,t),l=!1},d(t){re(e,t)}}}function at(r){let e,l,t,i,s,b,k;const p=[ot,st],a=[];function f(v,g){return v[0]?0:1}return l=f(r),t=a[l]=p[l](r),{c(){e=V(),t.c(),i=de()},l(v){e=L(v),t.l(v),i=de()},m(v,g){x(v,e,g),a[l].m(v,g),x(v,i,g),s=!0,b||(k=U(rt.body,"viewportchanged",r[11]),b=!0)},p(v,[g]){let y=l;l=f(v),l===y?a[l].p(v,g):(se(),R(a[y],1,1,()=>{a[y]=null}),oe(),t=a[l],t?t.p(v,g):(t=a[l]=p[l](v),t.c()),F(t,1),t.m(i.parentNode,i))},i(v){s||(F(t),s=!0)},o(v){R(t),s=!1},d(v){v&&I(e),a[l].d(v),v&&I(i),b=!1,k()}}}let nt=0,ct=0,dt=1200,ut=800;function ft(r,e,l){let t,i,s,b,k,p,a,f;O(r,Y,h=>l(12,t=h)),O(r,Q,h=>l(1,i=h)),O(r,W,h=>l(13,s=h)),O(r,Be,h=>l(14,b=h)),O(r,_e,h=>l(15,k=h)),O(r,ve,h=>l(16,p=h)),O(r,he,h=>l(17,a=h)),O(r,Ce,h=>l(2,f=h));let v=!0;C(Q,i=[{id:1,url:"/img/tcg-sim/dmex17-003-[4].jpeg",burl:"/img/tcg-sim/dmr21-l02-[4].jpeg",x:100,y:100,flip:!1,rotate:0}],i),C(W,s=[{id:400,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",x:0,y:0,burl:"/img/tcg-sim/card.svg",rotate:0,flip:!1},{id:401,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",x:0,y:0,burl:"/img/tcg-sim/card.svg",rotate:0,flip:!1}],s),C(Y,t=[{id:2,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:3,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:4,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:5,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:6,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:7,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:8,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:9,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:10,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:11,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:12,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:13,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:14,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:15,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:16,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:17,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:18,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:19,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:20,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:21,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:22,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:23,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:24,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:25,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:26,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:27,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:28,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:29,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:30,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:31,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:32,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:33,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:34,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:35,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:36,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:37,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:38,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:39,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0},{id:40,url:"/img/tcg-sim/dmbd16-011-[4].jpeg",burl:"/img/tcg-sim/card.svg",rotate:110,x:0,y:0,flip:!0}],t);function g(){const h=document.getElementById("board").getBoundingClientRect();C(he,a={top:h.top,left:h.left,right:h.right,bottom:h.bottom},a)}function y(){const h=document.getElementById("handArea-main").getBoundingClientRect();C(ve,p={top:h.top,left:h.left,right:h.right,bottom:h.bottom},p)}function _(){const h=document.getElementById("deckArea-main").getBoundingClientRect();C(_e,k={top:h.top,left:h.left,right:h.right,bottom:h.bottom},k)}function n(){l(0,v=!1),g(),y(),_()}function G(h){const D=h.detail.id,T=h.detail.position,B=s.filter(H=>H.id==D).pop();C(W,s=s.map(H=>H.id!=D?H:null),s),C(Q,i=[...i,ee(K({},B),{x:T.top-b,y:T.left,flip:!1,rotate:0})],i)}function o(h){const D=h.detail.id,T=h.detail.position,B=t.filter(H=>H.id==D).pop();C(Y,t=t.filter(H=>H.id!=D),t),C(Q,i=[...i,ee(K({},B),{x:T.top-b,y:T.left,flip:!1,rotate:0})],i)}function m(h){const D=h.detail,T=i.filter(B=>B.id==D).pop();C(Q,i=i.filter(B=>B.id!=D),i),C(W,s=[...s,T],s)}function c(h){for(let D=0;D<i.length;D++)i[D].id==h.detail.id&&C(Q,i[D]=ee(K({},i[D]),{x:h.detail.x,y:h.detail.y,rotate:h.detail.rotate,flip:h.detail.flip}),i)}function d(h){const D=h.detail.id,T=i.filter(B=>B.id==D).pop();C(Q,i=i.filter(B=>B.id!=D),i),C(W,s=[...s,T],s)}function w(h){const D=h.detail.id,T=t.filter(B=>B.id==D).pop();C(Y,t=t.filter(B=>B.id!=D),t),C(W,s=[...s,T],s)}function q(h){const D=h.detail.id,T=ee(K({},i.filter(B=>B.id==D).pop()),{x:0,y:0,flip:!0});C(Q,i=i.filter(B=>B.id!=D),i),h.detail.post=="top"?C(Y,t=[...t,T],t):h.detail.post=="bottom"&&C(Y,t=[T,...t],t)}return We(()=>{n(),g()}),[v,i,f,n,G,o,m,c,d,w,q,()=>{n()}]}class _t extends ae{constructor(e){super();ne(this,e,ft,at,ce,{})}}export{_t as default};
